
<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title > </title>
    <meta name="description" content="Form action bar examples">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <!--begin::Web font -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
    <script>
        WebFont.load({
            google: {"families":["Poppins:300,400,500,600,700","Roboto:300,400,500,600,700"]},
            active: function() {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <link href="assets/vendors/base/vendors.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/demo/default/base/style.bundle.css" rel="stylesheet" type="text/css" />

    <link rel="shortcut icon" href="" />
    <script src='https://www.google.com/recaptcha/api.js'></script>
    <style>
        input[type=text] {
            padding: 12px 20px;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button{
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            margin: 4px 2px;
            cursor: pointer;
        }
        canvas{
            /*prevent interaction with the canvas*/
            pointer-events:none;
        }
    </style>
</head>

<!-- end::Head -->

<!-- begin::Body -->
<body onload="createCaptcha()" class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--fixed m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default">

<!-- begin:: Page -->
<div class="m-grid m-grid--hor m-grid--root m-page">


    <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop ">

        <div class="m-grid__item m-grid__item--fluid m-wrapper">

            <div style="padding: 20px;" class="m-content">
                <div class="row">
                    <div class="col-md-12">
                        <!--begin::Portlet-->
                        <div class="m-portlet m-portlet--space">
                            <div class="m-portlet__head">
                                <div class="m-portlet__head-caption">
                                    <div class="m-portlet__head-title">
												<span class="m-portlet__head-icon m--hide">
													<i class="la la-gear"></i>
												</span>
                                        <h1 class="m-portlet__head-text" style="font-size: x-large">
                                           iCOP: IoT-enabled Policing Processes, Research Paper Survey Questions
                                        </h1>
                                    </div>
                                </div>
                            </div>

                            <form class="m-form" id="frm1">
                                <div class="m-portlet__body">

                                    <div class="m-form__group form-group">
                                        <label for=""><strong><span style="color: red;">*</span>1. ICOPS would make a police officer in the field more efficient.</strong></label>
                                        <div class="m-radio-list">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q1" class="q1"  value="Strongly disagree"> Strongly disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q1" class="q1" value="Disagree"> Disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q1" class="q1" value="Neither agree nor disagree"> Neither agree nor disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q1" class="q1" value="Agree"> Agree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q1" class="q1" value="Strongly agree"> Strongly agree
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="m-form__group form-group">
                                        <label for=""><strong><span style="color: red;">*</span>2. ICOPS could help in automating the business processes of crime investigation
the field.</strong></label>
                                        <div class="m-radio-list">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q2" class="q2" value="Strongly disagree"> Strongly disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q2" class="q2" value="Disagree"> Disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q2" class="q2" value="Neither agree nor disagree"> Neither agree nor disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q2" class="q2" value="Agree"> Agree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q2" class="q2" value="Strongly agree"> Strongly agree
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="m-form__group form-group">
                                        <label for=""><strong><span style="color: red;">*</span>3. ICOPS is easy to use.</strong></label>
                                        <div class="m-radio-list">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q3" class="q3"  value="Strongly disagree"> Strongly disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q3" class="q3" value="Disagree"> Disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q3" class="q3" value="Neither agree nor disagree"> Neither agree nor disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q3" class="q3" value="Agree"> Agree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q3" class="q3" value="Strongly agree"> Strongly agree
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="m-form__group form-group">
                                        <label for=""><strong><span style="color: red;">*</span>4. ICOPS could be integrated in a policing organisation to assist the existing manual
business processes of crime investigation in the field.</strong></label>
                                        <div class="m-radio-list">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q4" class="q4" value="Strongly disagree"> Strongly disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q4" class="q4" value="Disagree"> Disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q4" class="q4" value="Neither agree nor disagree"> Neither agree nor disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q4" class="q4" value="Agree"> Agree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q4" class="q4" value="Strongly agree"> Strongly agree
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="m-form__group form-group">
                                        <label for=""><strong><span style="color: red;">*</span>5. The ICOPS framework mimic policing operations in the field by gathering
information, searching information, proving situational awareness and managing
business processes. To what extent do you agree?</strong></label>
                                        <div class="m-radio-list">
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q5" class="q5"  value="Strongly disagree"> Strongly disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q5" class="q5" value="Disagree"> Disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q5" class="q5" value="Neither agree nor disagree"> Neither agree nor disagree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q5" class="q5" value="Agree"> Agree
                                                <span></span>
                                            </label>
                                            <label class="m-radio m-radio--solid m-radio--brand">
                                                <input type="radio" name="q5" class="q5" value="Strongly agree"> Strongly agree
                                                <span></span>
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group m-form__group">
                                        <label for="example_input_full_name"><strong><span style="color: red;">*</span>1. Is ICOPS easy to use and why?</strong></label>
                                            <textarea name="t1"  rows="5" class="form-control m-input col-10 t1" placeholder=""></textarea>
                                    </div>


                                    <div class="form-group m-form__group">
                                        <label for="example_input_full_name"><strong><span style="color: red;">*</span>2. How could we improve ICOPS?</strong></label>
                                            <textarea name="t2"  rows="5" class="form-control m-input col-10 t2" placeholder=""></textarea>
                                    </div>


                                    <div class="form-group m-form__group">
                                        <label for="example_input_full_name"><strong><span style="color: red;">*</span>3. How could we get police officers in the field to use the tool (ICOPS)?</strong></label>
                                            <textarea name="t3"  rows="5" class="form-control m-input col-10 t3" placeholder=""></textarea>
                                    </div>


                                </div>
                                <div class="form-group m-form__group">


                                    <div id="captcha">
                                    </div>
                                    <input type="text" placeholder="Captcha" id="cpatchaTextBox"/>

                                </div>
                                <div class="m-portlet__foot m-portlet__foot--fit">
                                    <div class="m-form__actions m-form__actions--right">
                                        <div class="row">
                                            <div class="col m--align-left">
                                                <button type="button" id="btn" onclick="submitss()" class="btn btn-brand">Submit My Answers</button>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </form>

                            <!--end::Form-->
                        </div>

                        <!--end::Portlet-->

                    </div>
                </div>
            </div>
        </div>
    </div>


</div>


<script src="assets/vendors/base/vendors.bundle.js" type="text/javascript"></script>
<script src="assets/demo/default/base/scripts.bundle.js" type="text/javascript"></script>

<!--end::Global Theme Bundle -->
</body>

<!-- end::Body -->
</html>

<script>
    var captcha;
    var names=[];
    function submitss() {
        validateCaptcha();
        let btn=$("#btn");
        let frm=$("#frm1");
        let datas=frm.serializeArray();
        console.log(datas);
        if (captcha){
            if (form_validation()){
                swal({
                    title: "Ready To Submit ?",
                    text: "",
                    type: "success",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes",
                    cancelButtonText: "No",

                }).then(function(isConfirm) {
                    if (isConfirm.value===true) {

                        $.ajax({
                            url:"/sending.php",
                            type:"post",
                            data:{
                                datas:datas,
                            },success:function (data) {
                                setTimeout(swal({
                                    title: 'success!',
                                    text: '',
                                    icon: 'success'
                                }).then(function() {

                                }),1000);

                            },error:function (l,s,n,o,data) {
                                var errorString='';
                                $.each( JSON.parse(l.responseText)['errors'], function( key, value) {
                                    errorString += '' + value + '<br>';
                                });
                                swal("Error", errorString, "error");
                            }

                        });

                    } else {
                        swal("Cancelled", "", "error");
                    }
                })
            } else
                toastr.error("Please answer to all questions");

        } else
            toastr.error("Invalid Captcha. Please try Again");


    }


    var code;
    function createCaptcha() {
        //clear the contents of captcha div first
        document.getElementById('captcha').innerHTML = "";
        var charsArray =
            "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ@!#$%^&*";
        var lengthOtp = 6;
        var captcha = [];
        for (var i = 0; i < lengthOtp; i++) {
            //below code will not allow Repetition of Characters
            var index = Math.floor(Math.random() * charsArray.length + 1); //get the next character from the array
            if (captcha.indexOf(charsArray[index]) == -1)
                captcha.push(charsArray[index]);
            else i--;
        }
        var canv = document.createElement("canvas");
        canv.id = "captcha";
        canv.width = 100;
        canv.height = 50;
        var ctx = canv.getContext("2d");
        ctx.font = "25px Georgia";
        ctx.strokeText(captcha.join(""), 0, 30);
        //storing captcha so that can validate you can save it somewhere else according to your specific requirements
        code = captcha.join("");
        document.getElementById("captcha").appendChild(canv); // adds the canvas to the body element
    }
    function validateCaptcha() {
        event.preventDefault();

        if (document.getElementById("cpatchaTextBox").value == code) {
            captcha=true;
        }else{
            captcha=false;
            createCaptcha();
        }
    }

    function form_validation() {

        if(check_radio('q1'))
            return false;
        if(check_radio('q2'))
            return false;
        if(check_radio('q3'))
            return false;
        if(check_radio('q4'))
            return false;
        if(check_radio('q5'))
            return false;

         if(check_other('t1'))
            return false;

         if(check_other('t2'))
            return false;

         if(check_other('t3'))
            return false;

        return true;

    }
    function check_other(classes){
        var dd=$("."+classes);
        if (dd.length===0)
            return false;
        for(i=0;i<dd.length;i++){
            if(dd[i].value==='')
            {
                dd[i].style.borderColor="red";
                return true;
            }else
            {
                dd[i].style.borderColor="#716aca";
            }

        }

        return false;

    }
    function check_radio(classes){

        var dd=$("."+classes);
        if (dd.length===0)
            return false;
        get_names(dd);

        for(i=0;i<names.length;i++){
            if(geteror(names[i])===true)
            {
                return true;
            }
        }

        return false;

    }
    function geteror(name) {
        debugger;
        var dd=$("[name='"+name+"']");
        if (dd.length===0)
            return false;
        for( let j=0;j<dd.length;j++){
            let dd2=$("."+dd[j].parentElement.className.replace(/ /g, '.'));
            if(dd[j].checked===true)
            {
                $('.alert.alert-danger.alert-dismissible.fade.show.radiob').remove();
                return false;
            }
        }
        var el=document.createElement("div");
        el.className="alert alert-danger alert-dismissible fade show radiob";
        el.role="alert";
        el.style.width="250px";
        el.innerHTML="<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"></button><strong>please select your answer!</strong>";
        isert_div(dd[0].parentElement.parentElement,el,dd[0].parentElement);
        return true;
    }
    function get_names(dd) {
        names=[];
        for (i=0;i<dd.length;i++)
        {
            if (names.indexOf(dd[i].getAttribute("name"))===-1)
                names.push(dd[i].getAttribute("name"));
        }
    }
    function isert_div(parent,div,p){

        parent.insertBefore(div,p);
    }
</script>
